<div class="pin-page-wrapper">
  <div class="pin-card">
    <div class="pin-wrapper">
      <div class="user-context">
        <p>Hola, <strong>{{ usuario.nombre }} {{ usuario.apellidoP }} {{ usuario.apellidoM }}</strong></p>
        <small>Ingresa tu PIN de 4 dígitos para continuar</small>
      </div>

      <div class="pin-inputs-container" [class.shake]="errorPin">
        <input #pinInput type="password" inputmode="numeric" pattern="[0-9]*" maxlength="4" [(ngModel)]="pinIngresado"
          (input)="onPinChange()" (keydown.enter)="validarPin()" class="hidden-input" />

        <div class="pin-dots" (click)="pinInput.focus()">
          <div *ngFor="let i of [0,1,2,3]" class="dot" [class.active]="pinIngresado.length > i">
            {{ pinIngresado[i] ? '•' : '' }}
          </div>
        </div>
      </div>

      <div class="error-message" *ngIf="errorPin">
        <i class="pi pi-exclamation-circle"></i> {{ errorPin }}
      </div>

      <div class="actions">
        <button pButton label="Cancelar" class="p-button-text p-button-secondary" (click)="cancelar()">
        </button>
      </div>
    </div>
  </div>
</div>
