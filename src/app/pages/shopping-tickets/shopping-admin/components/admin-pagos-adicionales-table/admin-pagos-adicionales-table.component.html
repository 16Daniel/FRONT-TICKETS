 <p-table [value]="data" [tableStyle]="{'min-width': '60rem', 'padding':'10px'}" [scrollable]="true" scrollHeight="700px"
        styleClass="p-datatable-gridlines" 
        [paginator]="true"
        [rows]="100">
    <ng-template pTemplate="header">
        <tr>
            <th>FECHA</th>
            <th>SOLICITANTE</th>
            <th>BENEFICIARIO</th>
            <th>MONTO</th>
            <th>JUSTIFICACION</th>
            <th>ESTATUS</th>
            <th>FECHA DE PAGO</th>
            <th *ngIf="tipoPago<3">DOCUMENTOS</th>
            <th></th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
        <tr class="bg-opacity-25" [ngClass]="{'bg-warning':(item.status == '1'), 'bg-success': item.status == '2', 'bg-danger': item.status == '0'}">
            <td><span *ngIf="item.fecha != null">{{obtenerFecha(item.fecha) | date }}</span></td>
            <td>{{item.solicitante}}</td>    
            <td>{{item.beneficiario}}</td>
            <td>{{item.monto}}</td>
            <td>{{item.justificacion}}</td> 
            <td>
                <span *ngIf="item.status == 0">CANCELADO</span>
                <i class='bx bx-x-circle bx-sm text-danger' *ngIf="item.status == 1"></i>
                <i class='bx bx-check-circle bx-sm text-success' *ngIf="item.status == 2"></i>
                </td>
            <td><span *ngIf="item.fechaPago != null">{{obtenerFecha(item.fechaPago) | date }}</span></td>
            <td *ngIf="tipoPago<3">
                <div class="d-flex gap-1 justify-content-center">
                    <button class="btn btn-warning" *ngIf="item.status != 2 && item.status > 0 || item.dopcumentos ==''" (click)="abrirModalSubirDoc(item)"><i class='bx bx-cloud-upload bx-sm' ></i></button>&nbsp; 
                  <button class="btn btn-secondary" *ngIf="item.documentos != ''" (click)="abrirModalVerDocs(item)" ><i class='bx bx-file-blank bx-sm'></i></button>
                </div>
            </td> 
             <td><button class="btn btn-primary btn-notification" style="margin: 2px" >
          <i class="bx bx-message-square-dots bx-sm" style="color: rgb(255, 255, 255)" pTooltip="CHAT"  [ngClass]="{'has-notification': verificarChatNoLeido(item)}"
            tooltipPosition="top" (click)="abrirModalChat(item)"></i>
        </button></td>
              <td><button class="btn bg-p-b" pTooltip="DETALLES"  (click)="abrirModalDetalles(item)"><i class='bx bx-show bx-sm' ></i></button></td>
        </tr>
    </ng-template>
</p-table>

<app-subir-documento-pago-adicional *ngIf="modalSubirDocumentos" [visible]="modalSubirDocumentos" (closeEvent)="modalSubirDocumentos = false"
 [Reg]="itemReg" [tipoDoc]="tipoPago"></app-subir-documento-pago-adicional>

<app-archivos *ngIf="modalArchivos && docs !=''" [visible]="modalArchivos" [itemReg]="itemReg"
(closeEvent)="modalArchivos = false" [docs]="docs" [tipoDoc]="tipoPago"></app-archivos>

<app-admin-compras-chat *ngIf="modalChat" [showModalChatCompra]="modalChat" [ticket]="itemReg"
  (closeEvent)="modalChat = false"></app-admin-compras-chat>

<app-pago-adicional-detalles *ngIf="modalDetalles" [visible]="modalDetalles" [itemReg]="itemReg"
  (closeEvent)="modalDetalles = false"></app-pago-adicional-detalles>
