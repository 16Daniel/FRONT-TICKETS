<div class="d-flex align-items-center gap-2">

  <p-dropdown [options]="sucursales" [(ngModel)]="idSucursalSeleccionada" name="sucursal" [optionValue]="'id'"
    optionLabel="nombre" [filter]="true" filterBy="nombre" placeholder="SELECCIONA SUCURSAL / DEPARTAMENTO"
    [style]="{width:'260px'}" required="true" (onChange)="onSucursalChange()">
  </p-dropdown>

  <p-dropdown [options]="etiquetas" [(ngModel)]="etiquetaSeleccionada" name="etiquetas" [optionValue]="'id'"
    optionLabel="nombre" [filter]="true" filterBy="nombre" placeholder="ETIQUETAS" [style]="{width:'200px'}"
    (onChange)="onEtiquetaChange()">
  </p-dropdown>

</div>

<p></p>

<div class="acciones d-flex gap-2">

  <button (click)="abrirModalAgregarTarea()">
    Agregar
  </button>

  <button class="btn-etiquetas" (click)="mostrarModalEtiquetas = true">
    Etiquetas
  </button>

</div>

<div class="tablero-tareas">

  <!-- TODO -->
  <div class="columna" style="background-color: #fecbcb;" cdkDropList id="todoList" [cdkDropListData]="toDo"
    [cdkDropListConnectedTo]="dropListIds" (cdkDropListDropped)="drop($event)">

    <h3>TO DO</h3>

    <app-task-card *ngFor="let t of toDo" [tarea]="t" (seleccionarTarea)="abrirDetalle($event)">
    </app-task-card>

  </div>

  <!-- WORKING -->
  <div class="columna" style="background-color: #fef9cb;" cdkDropList id="workingList" [cdkDropListData]="working"
    [cdkDropListConnectedTo]="dropListIds" (cdkDropListDropped)="drop($event)">

    <h3>WORKING</h3>

    <app-task-card *ngFor="let t of working" [tarea]="t" (seleccionarTarea)="abrirDetalle($event)">
    </app-task-card>

  </div>


  <!-- CHECK -->
  <div class="columna" style="background-color: #cbcdfe;" cdkDropList id="checkList" [cdkDropListData]="check"
    [cdkDropListConnectedTo]="dropListIds" (cdkDropListDropped)="drop($event)">

    <h3>CHECK</h3>

    <app-task-card *ngFor="let t of check" [tarea]="t" (seleccionarTarea)="abrirDetalle($event)">
    </app-task-card>

  </div>


  <!-- DONE -->
  <div class="columna" style="background-color: #e4fecb;" cdkDropList id="doneList" [cdkDropListData]="done"
    [cdkDropListConnectedTo]="dropListIds" (cdkDropListDropped)="drop($event)">

    <h3>DONE</h3>

    <app-task-card *ngFor="let t of done" [tarea]="t" (seleccionarTarea)="abrirDetalle($event)">
    </app-task-card>

  </div>


</div>

<app-task-detail *ngIf="mostrarModalDetalleTarea" [mostrarModal]="mostrarModalDetalleTarea"
  (closeEvent)="mostrarModalDetalleTarea = false" [tarea]="tareaSeleccionada">
</app-task-detail>

<app-modal-labels-task *ngIf="mostrarModalEtiquetas" [mostrarModal]="mostrarModalEtiquetas"
  (closeEvent)="mostrarModalEtiquetas = false">
</app-modal-labels-task>

<app-new-task *ngIf="mostrarModalNuevaTarea" [mostrarModal]="mostrarModalNuevaTarea"
  (closeEvent)="mostrarModalNuevaTarea = false">
</app-new-task>

<p-toast [breakpoints]="{'920px': {width: '100%', right: '0', left: '0'}}" [showTransformOptions]="'translateY(100%)'"
  [showTransitionOptions]="'500ms'" [hideTransitionOptions]="'500ms'"
  [showTransformOptions]="'translateX(100%)'"></p-toast>