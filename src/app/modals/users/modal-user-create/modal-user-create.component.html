<p-dialog [header]="!esNuevoUsuario ? 'ACTUALIZAR USUARIO' :'CREAR USUARIO'" [(visible)]="mostrarModalCrearUsuario"
    [modal]="true" [style]="{ 'width': '95vh' }" [maximizable]="true" (onHide)="onHide()">
    <form #form="ngForm" (ngSubmit)="enviar(form)">

        <p class="fw-bold">NOMBRE</p>
        <input class="form-control" style="height: 48px;" type="text" placeholder="ESCRIBE EL NOMBRE"
            [(ngModel)]="usuario.nombre" name="nombre"
            [ngClass]="{'p-invalid': formNombreCtrl.invalid && formNombreCtrl.touched}" #formNombreCtrl="ngModel"
            required>
        <small *ngIf="formNombreCtrl.invalid && formNombreCtrl.touched" class="p-error">
            Campo requerido.
        </small>
        <p></p>

        <p class="fw-bold">APELLIDO PATERNO</p>
        <input class="form-control" style="height: 48px;" type="text" placeholder="ESCRIBE EL APELLIDO PATERNO"
            [(ngModel)]="usuario.apellidoP" name="apellidoM"
            [ngClass]="{'p-invalid': formApellidoPCtrl.invalid && formApellidoPCtrl.touched}"
            #formApellidoPCtrl="ngModel" required>
        <small *ngIf="formApellidoPCtrl.invalid && formApellidoPCtrl.touched" class="p-error">
            Campo requerido.
        </small>
        <p></p>

        <p class="fw-bold">APELLIDO MATERNO</p>
        <input class="form-control" style="height: 48px;" type="text" placeholder="ESCRIBE EL APELLIDO MATERNO"
            [(ngModel)]="usuario.apellidoM" name="apellidoP"
            [ngClass]="{'p-invalid': formapellidoMCtrl.invalid && formapellidoMCtrl.touched}"
            #formapellidoMCtrl="ngModel" required>
        <small *ngIf="formapellidoMCtrl.invalid && formapellidoMCtrl.touched" class="p-error">
            Campo requerido.
        </small>
        <p></p>

        <p class="fw-bold">CORREO</p>
        <input class="form-control" style="height: 48px;" type="text" placeholder="ESCRIBE EL CORREO"
            [(ngModel)]="usuario.email" name="email"
            [ngClass]="{'p-invalid': formCorreoCtrl.invalid && formCorreoCtrl.touched}" #formCorreoCtrl="ngModel"
            required>
        <small *ngIf="formCorreoCtrl.invalid && formCorreoCtrl.touched" class="p-error">
            Campo requerido.
        </small>
        <p></p>

        <p class="fw-bold">CONTRASEÑA</p>
        <input class="form-control" style="height: 48px;" type="text" placeholder="ESCRIBE LA CONTRASEÑA"
            [(ngModel)]="usuario.password" name="password"
            [ngClass]="{'p-invalid': formPasswordCtrl.invalid && formPasswordCtrl.touched}" #formPasswordCtrl="ngModel"
            required>
        <small *ngIf="formPasswordCtrl.invalid && formPasswordCtrl.touched" class="p-error">
            Campo requerido.
        </small>
        <p></p>

        <p class="fw-bold">ROL DE USUARIO</p>
        <p-dropdown [options]="roles" [(ngModel)]="usuario.idRol" name="rol" optionValue="id" optionLabel="nombre" [filter]="true"
            filterBy="nombre" [showClear]="true" placeholder="SELECCIONA EL ROL" [style]="{width:'100%'}"
            #formRolCtrl="ngModel" [ngClass]="{'p-invalid': formRolCtrl.invalid && formRolCtrl.touched}" required>
            <ng-template pTemplate="selectedItem" let-selectedOption>
                <div class="flex align-items-center gap-2">
                    <div>{{ selectedOption.nombre }}</div>
                </div>
            </ng-template>
            <ng-template let-rol pTemplate="item">
                <div class="flex align-items-center gap-2">
                    <div>{{ rol.nombre }}</div>
                </div>
            </ng-template>
        </p-dropdown>
        <small *ngIf="formRolCtrl.invalid && formRolCtrl.touched" class="p-error">
            Campo requerido.
        </small>
        <p></p>

        <p class="fw-bold">SUCURSALES</p>
        <p-multiSelect [style]="{'width':'100%'}" [options]="sucursales" name="sucursales"
            [(ngModel)]="usuario.sucursales" optionLabel="nombre" #formsucursalesCtrl="ngModel"
            placeholder="SELECCIONA LAS SUCURSALES|"
            [ngClass]="{'p-invalid': formsucursalesCtrl.invalid && formsucursalesCtrl.touched}" required />
        <small *ngIf="formsucursalesCtrl.invalid && formsucursalesCtrl.touched" class="p-error">
            Campo requerido.
        </small>

        <div class="d-flex justify-content-end mt-3">
            <button class="btn bg-p-b p-3">
                <i class='bx bx-send'></i>
                <label *ngIf="esNuevoUsuario">ENVIAR</label>
                <label *ngIf="!esNuevoUsuario">ACTUALIZAR</label>
            </button>
        </div>

        <!-- <div class="mt-3 mb-3 d-flex  justify-content-end">
            <button class="btn btn-warning" style="margin: 2px" *ngIf="esNuevoUsuario == true">
                <i class="bx bx-check-circle bx-sm" pTooltip="EDITAR" tooltipPosition="top"></i>
            </button>

            <button pTooltip="ELIMINAR" tooltipPosition="top" class="btn bg-p-b p-3 rounded-4" (click)="actualizar()"
                *ngIf="!esNuevoUsuario"> <i class='bx bx-save'></i>
                ACTUALIZAR</button>
        </div> -->
    </form>

</p-dialog>